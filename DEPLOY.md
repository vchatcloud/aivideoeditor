# 배포(Publishing) 가이드

현재 만드신 Next.js 애플리케이션을 외부에서 접속할 수 있게 하려면 몇 가지 선택지가 있습니다. 하지만 **중요한 주의사항**이 있습니다.

## ⚠️ 중요: 현재 코드의 배포상 제약사항
현재 앱은 생성된 이미지와 오디오 파일을 `public/generated` 폴더(로컬 파일 시스템)에 저장하고 있습니다. (`fs.writeFileSync` 사용)
이 방식은 **Vercel, Netlify 같은 Serverless 환경에서는 정상 작동하지 않습니다.** (파일을 저장해도 금방 사라지거나 접근할 수 없게 됩니다.)

따라서 배포를 위해서는 다음 **세 가지 방법** 중 하나를 선택해야 합니다.

---

### 1. 가장 쉬운 방법: Ngrok (내 컴퓨터를 서버로 사용)
**장점:** 코드를 고칠 필요 없음. 즉시 무료로 URL 생성 가능.
**단점:** 내 컴퓨터와 터미널이 켜져 있을 때만 접속 가능.
**추천:** 잠깐 친구나 동료에게 보여줄 때 가장 좋습니다.

**사용법:**
1. `ngrok` 설치 (https://ngrok.com/download)
2. 터미널에서 `npm run dev`로 앱 실행 (포트 3000)
3. 새 터미널에서 `ngrok http 3000` 입력
4. 생성된 `https://....ngrok-free.app` 주소를 공유

---

### 2. 정석 방법: Vercel + Cloud Storage (추천)
**장점:** 24시간 접속 가능, 빠르고 안정적, Next.js 최적화.
**단점:** **파일 저장 로직 수정 필요** (로컬 fs 대신 AWS S3, Vercel Blob, Cloudinary 등을 써야 함).
**추천:** 실제 서비스를 운영하거나 포트폴리오로 남길 때.

**진행 과정:**
1. **Vercel Blob**이나 **Cloudinary** 같은 스토리지 서비스 가입
2. `src/app/api/generate-images/route.ts` 등의 파일 저장 코드를 해당 서비스 업로드 코드로 변경
3. GitHub에 코드 푸시 -> Vercel 연동하여 배포

### 3. 타협안: VPS / Railway (서버 호스팅)
**장점:** 파일 시스템을 사용할 수 있는 '서버'를 임대하므로 코드 수정이 거의 필요 없음.
**단점:** Vercel보다 설정이 복잡하고 비용이 들 수 있음($5~/월).
**추천:** 코드를 고치기 싫고 24시간 돌아가는 서버가 필요할 때.

---

## 🚀 무엇을 도와드릴까요?

1. **"Ngrok으로 당장 공유해보고 싶어"** 👉 Ngrok 설치 및 실행을 도와드리겠습니다.
2. **"Vercel로 제대로 배포하고 싶어"** 👉 파일 저장 로직을 **Vercel Blob(무료 티어 있음)** 등을 사용하도록 코드를 수정해 드리겠습니다. (권장)
